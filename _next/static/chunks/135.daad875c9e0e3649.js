"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{4135:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var l=n(5155),i=n(2115),s=n(9457);let r=e=>{let{zhanjiangRoutes:t,stationCoordinates:r,getCoordinates:o,getRouteStyle:a,handleRouteHover:c,handleRouteClick:h,selectedRoute:p}=e,[d,u]=(0,i.useState)(null),[g,m]=(0,i.useState)(null),[x,f]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{Promise.all([n.e(761).then(n.t.bind(n,5752,23)),Promise.all([n.e(761),n.e(712)]).then(n.bind(n,9712)),Promise.all([n.e(484),n.e(413)]).then(n.t.bind(n,8413,23))]).then(e=>{let[t,n]=e;m({L:t.default,MapContainer:n.MapContainer,TileLayer:n.TileLayer,Polyline:n.Polyline,Marker:n.Marker,Tooltip:n.Tooltip,Popup:n.Popup}),f(!0)})},[]),!x||!g)return(0,l.jsx)("div",{style:{height:"100%",width:"70%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f0f0"},children:"加载地图中..."});let j=new g.L.Icon({iconUrl:'data:image/svg+xml;utf8,<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="10" height="10" fill="red"/></svg>',iconSize:[10,10],iconAnchor:[5,5],className:"station-icon"}),{MapContainer:v,TileLayer:w,Polyline:b,Marker:y,Tooltip:k,Popup:C}=g;return(0,l.jsxs)(v,{center:[21.3,110.3],zoom:9,style:{height:"100%",width:"70%"},zoomControl:!0,children:[(0,l.jsx)(w,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Object.entries(t).map(e=>{let[t,n]=e,i=Number(t),s=n.path.map(e=>o(e)).filter(e=>null!==e);return(0,l.jsx)(b,{positions:s,pathOptions:a(i),eventHandlers:{mouseover:()=>c(i),mouseout:()=>c(null),click:()=>h(i)}},i)}),Object.entries(r).map(e=>{let[t,n]=e,i=(0,s.Zs)(t);return(0,l.jsxs)(y,{position:n,icon:j,eventHandlers:{click:()=>u(d===t?null:t)},children:[(0,l.jsx)(k,{permanent:!0,direction:"top",offset:[0,-5],children:t.replace(/_/g," ")}),(0,l.jsx)(C,{children:(0,l.jsxs)("div",{className:"station-popup",children:[(0,l.jsx)("h3",{children:t}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"地址："}),(null==i?void 0:i.address)||"暂无信息"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"电话："}),(null==i?void 0:i.phone)||"暂无信息"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"坐标："}),null==i?void 0:i.coordinates[1],",",null==i?void 0:i.coordinates[0]]})]})})]},t)})]})}}}]);